<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <style>
        table {
            margin: 100px auto;
        }

        th {
            background-color: darkgreen;
            color: white;
        }

        .odd {
            background-color: wheat;
        }

        .even {
            background-color: darkseagreen;
        }

        tr:hover {
            background-color: chartreuse;
        }

        .highlight {
            background-color: chartreuse;
        }
    </style>
</head>

<body>
    <table id="table">
        <tr>
            <th><input type="checkbox" /></th>
            <th>姓名</th>
            <th>性别</th>
            <th>年龄</th>
            <th>电话</th>
        </tr>
    </table>


    <script>
        var data = [
            { "姓名": "张三", "性别": "男", "年龄": "18", "电话": "154855796" },
            { "姓名": "李四", "性别": "男", "年龄": "28", "电话": "158765796" },
            { "姓名": "王五", "性别": "女", "年龄": "14", "电话": "154812396" },
            { "姓名": "刘六", "性别": "女", "年龄": "12", "电话": "154855796" },
            { "姓名": "赵一", "性别": "男", "年龄": "42", "电话": "154884696" },
            { "姓名": "钱二", "性别": "女", "年龄": "9", "电话": "154855751" },
            { "姓名": "孙七", "性别": "男", "年龄": "33", "电话": "154986796" },
            { "姓名": "张三", "性别": "男", "年龄": "18", "电话": "154855796" },
            { "姓名": "李四", "性别": "男", "年龄": "28", "电话": "158765796" },
            { "姓名": "王五", "性别": "女", "年龄": "14", "电话": "154812396" },
            { "姓名": "刘六", "性别": "女", "年龄": "12", "电话": "154855796" },
            { "姓名": "赵一", "性别": "男", "年龄": "42", "电话": "154884696" },
            { "姓名": "钱二", "性别": "女", "年龄": "9", "电话": "154855751" },
            { "姓名": "孙七", "性别": "男", "年龄": "33", "电话": "154986796" },
            { "姓名": "周八", "性别": "男", "年龄": "32", "电话": "489855796" }];

        var table = document.getElementById("table");

        for (let i = 0; i < data.length; i++) {
            let tr = document.createElement("tr");
            let inputtd = document.createElement("td");
            let input = document.createElement("input");
            input.type = "checkbox";
            inputtd.appendChild(input);
            tr.appendChild(inputtd);
            for (let key in data[i]) {
                let td = document.createElement("td");
                td.innerText = data[i][key];
                tr.appendChild(td);
                if (i % 2 == 0) {
                    tr.className = "even";
                } else {
                    tr.className = "odd";
                }
            }
            table.appendChild(tr);
        }

        var inputlist = document.getElementsByTagName("input");
        var trlist = document.getElementsByTagName("tr");
        inputlist[0].onchange = () => {
            if (inputlist[0].checked) {
                for (let i = 1; i < inputlist.length; i++) {
                    inputlist[i].checked = true;
                    for (let k = 1; k < trlist.length; k++) {
                        trlist[k].className = "highlight";
                    }
                }
            } else {
                for (let i = 1; i < inputlist.length; i++) {
                    inputlist[i].checked = false;
                    for (let k = 1; k < trlist.length; k++) {
                        if ((k - 1) % 2 == 0) {
                            trlist[k].className = "even";
                        } else {
                            trlist[k].className = "odd";
                        }
                    }
                }
            }
        };
        for (let i = 1; i < inputlist.length; i++) {
            inputlist[i].onchange = () => {
                if (inputlist[i].checked) {
                    let checked = true;
                    trlist[i].className = "highlight";
                    for (let j = 1; j < inputlist.length; j++) {
                        if (!inputlist[j].checked) {
                            checked = false;
                        }
                    }
                    inputlist[0].checked = checked;
                } else {
                    inputlist[0].checked = false;
                    if ((i - 1) % 2 == 0) {
                        trlist[i].className = "even";
                    } else {
                        trlist[i].className = "odd";
                    }
                }
            };
        }


    </script>
</body>

</html>